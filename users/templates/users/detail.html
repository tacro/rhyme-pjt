{% extends 'base.html' %}
{% load staticfiles %}

{% block content %}

<div class="container">
  <div class="row pt-3">
    <div class="col-2">
      {% if user.icon %}
      <img src="{{ user.icon.url }}" class="img-fluid" />
      {% else %}
      <img src="{% static "users/img/default_icon.png" %}" class="img-fluid" alt="he doesn't have icon" />
      {% endif %}
    </div>
    <div class="col-7">
      <h3>{{user.username}}</h3>
      <p>{{user.biography}}</p>
      {% if user != request.user %}
        {% if user in request.user.get_follows %}
          <a href="{% url 'unfollow' user.id %}" class="btn btn-general" type="submit" role="button" value="unfollow">unfollow</a>
        {% else %}
          <a href="{% url 'follow' user.id %}" class="btn btn-general" type="submit" role="button" value="follow">follow</a>
        {% endif %}
      {% endif %}
      <p><a href="{% url 'followers' user.id %}">{{ followers }} FOLLOWERS</a></p>
      <p><a href="{% url 'follows' user.id %}">{{ follows }} FOLLOWS</a></p>
    </div>
  </div>
  <div class="row pt-3">
    <div class="col-8">
      {% for post in posts.all %}
      <p>{{ post.body }}</p>
      {% endfor %}
    </div>
  </div>
</div>


{% endblock %}
